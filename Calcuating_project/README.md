
## 개요

소숫점 6자리까지 표기가 되는 간단한 계산기입니다.

## 시나리오

숫자를 버튼을 클릭하는 방식으로 입력한다

사칙연산 버튼을 클릭한다

다시 숫자를 클릭한다

= 버튼을 클릭해서 연산한다

## 구현 방식

### main_draw

raylib의 draw를 추상화한 클래스입니다. 무수히 많고도 비효율적인 콜백함수 구조를 지녔습니다.

std::function std::vector std::list std::map 등등 여러가지 클래스가 쓰였습니다.

### draw_link

main_draw의 복잡한 콜백함수 구문을 조금 더 간략하게 만들수가 있도록 해주는 클래스입니다.

openGL의 좌표계, raylib의 좌표계, 기존의 수학적 좌표계, 스케일 좌표계 등등 설정이 가능합니다.

### Calculating_machinery class

계산기의 구성요소를 세팅하고 계산기의 이벤트들을 등록하는 역할을 하는 클래스입니다.

또한 계산기의 값을 저장하는 역할도 가지고 있습니다.

### 전체적인 구현

std::function<int(T_arg, T_arg ...)> 형태의 lamda function이 무척이나 많이 쓰였습니다.

[this] 등등의 참조 캡처, [=] 등등의 복사 캡처 등등이 많이 쓰였습니다.

using 등등으로 복잡한 형태를 간소화 시켰습니다.

draw -> link -> calculating -> main 형태의 추상화 계층 구조를 가지고 있습니다.

## 소감

확실히 시작이 반인 것 같습니다.

처음 방향이 빙 돌아서 가는 길인 만큼, 프로젝트도 실제로 구현해야 하는 부분에 비해서 훨씬 더 많은 코드를 지니게 되었습니다.

이번 프로젝트의 구조는 여러 클래스가 계층 구조를 지니고 있는 극도로 복잡한 구조가 되었습니다. 하지만 이러한 코드를 굳이 지녀야 할 정도로 큰 프로젝트인지는 의문입니다.

raylib라는 라이브러리는 openGL을 조금 더 쉽게 쓰도록 하는 라이브러리인데 이러한 구현으로 인해서 raylib를 쓰는것보다 openGL 자체를 쓰는 것이 더 좋았을 상황이 되었습니다.

프로젝트에서 실제로 구현해야하는 프로그램의 규모를 생각한다면 이는 어리석은 결정인 것 같습니다.

그러니 다음에는 프로젝트의 규모를 생각하고 어떻게 구현할지 미리 정한 다음에 개발을 시작하겠습니다.


## 작동 이미지

![image](https://github.com/user-attachments/assets/1f30ba2f-031e-48b6-a68d-802524d9d304)

